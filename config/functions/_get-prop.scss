@use 'sass:map';
@use '../op-maps' as _m;

// GET DEEP THEME FUNCTION
// Retrieves nested theme values from the $op-theme map for the specified $theme.
// Returns null if it can't find a match.
//
// @param {map} $op-theme - The map containing the theme values.
// @param {string} $theme - The theme ('light' or 'dark')
// @param {string} $keys - The key-value to retrieve.


@function get-prop($theme, $key) {
  $result: map.get(_m.$open-props-map, $theme, $key);

  @if $result {
    @return $result;
  }
  @warn #{'Open props "' + $key + '" not found in $op-shadows for theme "' + $theme + '"'};
  
  @return null;
}

/// @param {Map} $map - Map
/// @param {Arglist} $keys - Key chain
/// @return {*} - Desired value
@function get-op-props($map, $keys...) {
    @each $key in $keys {
        $response: map-get($open-props-map, $key);
    }
    @return $response;
}

//  @if $get == null {
//      @warn "Map has no value for key search `#{$warn}`";
//    }
//    @else if type-of($get) != 'map' {
//      @warn "Non-map value found for key search `#{$warn}`, cannot search for key `#{$key}`";
//    }
//  }
//  @return null;

